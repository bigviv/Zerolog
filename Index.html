<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>ZeroLog v4.5 | Pro</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-REPLACE_WITH_YOUR_ID" crossorigin="anonymous"></script>

    <style>
        body { background-color: #000; color: #fff; font-family: -apple-system, system-ui, sans-serif; touch-action: manipulation; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .tab-active { color: #3b82f6; border-bottom: 2px solid #3b82f6; }
        .library-modal { background-color: #000 !important; z-index: 1000; position: fixed; inset: 0; overflow-y: auto; }
        
        /* AD CONTAINER STYLING */
        .ad-timer-wrapper {
            background: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 0;
            border-top: 1px solid #ddd;
        }
        .ad-label {
            font-size: 8px;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const STORAGE_KEY = "zerolog_v4_5_final";
        const PRO_UNLOCK_KEY = "GAINS2026"; // Your secret key to sell

        function App() {
            const [state, setState] = useState(() => {
                const saved = localStorage.getItem(STORAGE_KEY);
                return saved ? JSON.parse(saved) : {
                    isPro: false,
                    settings: { rS: 90, bW: 20, unit: 'kg' },
                    history: [],
                    days: [
                        { id: 'd1', label: 'Mon', title: 'Chest & Tri', exercises: [] },
                        { id: 'd2', label: 'Tue', title: 'Back & Bi', exercises: [] },
                        { id: 'd3', label: 'Wed', title: 'Rest Day', exercises: [] },
                        { id: 'd4', label: 'Thu', title: 'Shoulders', exercises: [] },
                        { id: 'd5', label: 'Fri', title: 'Leg Day', exercises: [] },
                        { id: 'd6', label: 'Sat', title: 'Active Rest', exercises: [] },
                        { id: 'd7', label: 'Sun', title: 'Rest Day', exercises: [] }
                    ],
                    lib: { "Chest": ["Bench Press"], "Back": ["Deadlift"], "Legs": ["Squat"], "Shoulders": ["OHP"], "Arms": ["Curls"] }
                };
            });

            const [view, setView] = useState('workout');
            const [activeIdx, setActiveIdx] = useState(0);
            const [timer, setTimer] = useState(0);
            const [promoInput, setPromoInput] = useState("");
            const [showLib, setShowLib] = useState(false);

            useEffect(() => { localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }, [state]);

            useEffect(() => {
                let interval = null;
                if (timer > 0) interval = setInterval(() => setTimer(t => t - 1), 1000);
                else if (timer === 0 && interval !== null) {
                    if ("vibrate" in navigator) navigator.vibrate([400, 200, 400]);
                    clearInterval(interval);
                }
                return () => clearInterval(interval);
            }, [timer]);

            const unlockPro = () => {
                if (promoInput.toUpperCase() === PRO_UNLOCK_KEY) {
                    setState({...state, isPro: true});
                    alert("Pro Activated: Ads Disabled!");
                } else { alert("Invalid Code"); }
            };

            const currentDay = state.days[activeIdx];

            return (
                <div className="min-h-screen flex flex-col bg-black">
                    <nav className="flex border-b border-white/10 sticky top-0 bg-black z-40">
                        {['workout', 'history', 'settings'].map(v => (
                            <button key={v} onClick={() => setView(v)} className={`flex-1 p-4 font-bold text-[10px] tracking-widest uppercase ${view === v ? 'tab-active' : 'text-gray-600'}`}>{v}</button>
                        ))}
                    </nav>

                    <main className="flex-1 max-w-md mx-auto w-full p-4 pb-48">
                        {view === 'workout' && (
                            <div>
                                <div className="flex gap-2 overflow-x-auto no-scrollbar mb-6">
                                    {state.days.map((d, i) => (
                                        <button key={i} onClick={() => setActiveIdx(i)} className={`px-4 py-2 rounded-xl text-[10px] font-black min-w-[80px] ${activeIdx === i ? 'bg-blue-600' : 'bg-white/5'}`}>{d.label}</button>
                                    ))}
                                </div>
                                <div className="flex justify-between items-center mb-6">
                                    <h1 className="text-2xl font-black italic uppercase">{currentDay.title}</h1>
                                    <button onClick={() => setShowLib(true)} className="bg-blue-600 w-12 h-12 rounded-full font-bold text-2xl shadow-lg">+</button>
                                </div>
                                {currentDay.exercises.map((ex, exIdx) => (
                                    <div key={exIdx} className="bg-white/5 border border-white/10 rounded-2xl p-4 mb-4">
                                        <p className="font-bold text-blue-500 uppercase text-xs mb-4 tracking-widest">{ex.name}</p>
                                        {ex.sets.map((s, sIdx) => (
                                            <div key={sIdx} className="flex gap-2 items-center mb-3">
                                                <input type="number" placeholder="kg" className="w-1/3 p-4 bg-black border border-white/10 rounded-xl text-center font-bold" value={s.weight} onChange={e => {
                                                    const ns = {...state}; ns.days[activeIdx].exercises[exIdx].sets[sIdx].weight = e.target.value; setState(ns);
                                                }} />
                                                <input type="number" placeholder="reps" className="w-1/3 p-4 bg-black border border-white/10 rounded-xl text-center font-bold" value={s.reps} onChange={e => {
                                                    const ns = {...state}; ns.days[activeIdx].exercises[exIdx].sets[sIdx].reps = e.target.value; setState(ns);
                                                }} />
                                                <button onClick={() => {
                                                    const ns = {...state}; const t = ns.days[activeIdx].exercises[exIdx].sets[sIdx];
                                                    t.done = !t.done; if(t.done) setTimer(state.settings.rS); setState(ns);
                                                }} className={`w-12 h-12 rounded-xl flex items-center justify-center ${s.done ? 'bg-blue-600' : 'border border-white/20'}`}>{s.done ? 'âœ“' : ''}</button>
                                            </div>
                                        ))}
                                        <button onClick={() => {const ns={...state}; ns.days[activeIdx].exercises[exIdx].sets.push({weight:'', reps:'', done:false}); setState(ns);}} className="w-full py-2 text-[9px] font-bold uppercase text-white/10">+ Add Set</button>
                                    </div>
                                ))}

                                {/* HELP SECTION FOR ADSENSE APPROVAL */}
                                <div className="mt-12 p-6 border-t border-white/5 opacity-30 text-[10px] leading-relaxed">
                                    <h4 className="font-bold uppercase mb-2">ZeroLog Quick Start Guide</h4>
                                    <p>1. Select your workout day. 2. Add exercises from the library. 3. Log your weight and reps. 4. Tap the checkmark to start the rest timer. ZeroLog helps you track progressive overload and session volume automatically.</p>
                                </div>
                            </div>
                        )}

                        {view === 'settings' && (
                            <div className="space-y-6">
                                <div className="p-5 bg-white/5 rounded-2xl border border-white/10">
                                    <h3 className="text-[10px] font-bold uppercase mb-4 text-blue-500">Upgrade to Pro</h3>
                                    {state.isPro ? (
                                        <p className="text-green-500 font-bold italic text-sm">PRO UNLOCKED (AD-FREE)</p>
                                    ) : (
                                        <div className="flex gap-2">
                                            <input className="flex-1 bg-black border border-white/10 p-4 rounded-xl text-xs" placeholder="Enter Pro Code" value={promoInput} onChange={e => setPromoInput(e.target.value)} />
                                            <button onClick={unlockPro} className="bg-blue-600 px-6 rounded-xl font-bold text-[10px]">ACTIVATE</button>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </main>

                    {/* REST-ONLY TIMER & AD DISPLAY */}
                    {timer > 0 && (
                        <div className="fixed bottom-0 left-0 right-0 z-50">
                            <div className="bg-blue-600 p-6 flex items-center justify-between shadow-2xl">
                                <span className="text-4xl font-mono font-black">{Math.floor(timer/60)}:{(timer%60).toString().padStart(2, '0')}</span>
                                <button onClick={() => setTimer(0)} className="bg-white/20 px-6 py-3 rounded-xl font-bold text-xs uppercase">Skip</button>
                            </div>
                            
                            {!state.isPro && (
                                <div className="ad-timer-wrapper">
                                    <div className="ad-label">Advertisement</div>
                                    {/* GOOGLE ADSENSE SNIPPET START */}
                                    <ins className="adsbygoogle"
                                         style={{display:'inline-block', width:'320px', height:'50px'}}
                                         data-ad-client="ca-pub-REPLACE_WITH_YOUR_ID"
                                         data-ad-slot="REPLACE_WITH_YOUR_SLOT_ID"></ins>
                                    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                                    {/* GOOGLE ADSENSE SNIPPET END */}
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
